{"version":3,"sources":["components/firebase.js","utils/generateHash.js","Context.js","styles/GlobalStyles.js","styles/HelperClasses.js","styles/variables.js","components/Modal/styles.js","components/Modal/index.js","components/Button/styles.js","components/Button/index.js","hooks/useInputValue.js","components/Loader/styles.js","components/Loader/index.js","components/SearchUserForm/styles.js","components/SearchUserForm/index.js","components/Header/styles.js","components/Header/index.js","styles/animation.js","components/PhotoCard/styles.js","components/PhotoCard/index.js","components/UploadPhotoButton/styles.js","components/UploadForm/index.js","components/UploadPhotoButton/index.js","components/ListOfWallPhotos/styles.js","components/ListOfWallPhotos/index.js","pages/Home.js","components/UserForm/styles.js","components/UserForm/index.js","pages/Login.js","components/ListOfProfilePhotos/styles.js","components/ListOfProfilePhotos/index.js","pages/Profile.js","pages/Register.js","pages/NotFound.js","App.js","index.js"],"names":["config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","app","initializeApp","this","auth","db","firestore","storage","email","password","Promise","resolve","reject","signInWithEmailAndPassword","then","catch","error","userName","collection","doc","get","createUserWithEmailAndPassword","set","displayName","photos","following","currentUser","updateProfile","signOut","onAuthStateChanged","user","file","description","task","ref","Math","random","toString","substring","name","put","on","snapshot","message","getDownloadURL","downloadURL","timestamp","Date","getTime","record","url","path","fullPath","likes","comments","getData","data","merge","exists","pictures","followers","followUser","sort","a","b","reverse","userLike","querySnapshot","forEach","i","includes","filter","e","push","update","photoPath","fileName","delete","userFollow","mode","Context","createContext","children","useState","isAuth","setIsAuth","setUser","value","activateAuth","removeAuth","addUser","Provider","Consumer","ResetStyle","createGlobalStyle","GlobalStyle","PageWrap","styled","div","StyledLink","Link","generateSpaces","positions","prop","times","results","pos","HelperClasses","mediaQueries","ModalContent","CloseButton","button","Form","form","Title","h2","FormLine","Label","label","Input","input","Textarea","textarea","Error","p","Modal","onClose","onClick","ButtonTag","props","fullWidth","secondary","css","round","disabled","Button","Icon","icon","size","iconSize","text","useInputValue","initialValue","setValue","onChange","target","Wrap","fullContainer","opacityBg","fixed","spinKeyframes","keyframes","spin","time","LoaderAnimated","Loader","Results","ul","User","li","ImageProfile","FollowButton","FollowIcon","FaUserPlus","UnFollowIcon","FaUserMinus","SearchUserForm","userSearch","useContext","users","setUsers","useCollection","firebase","loading","useDocumentData","userValue","className","placeholder","onKeyUp","length","regex","RegExp","docs","id","match","map","key","preventDefault","handleFollow","StickyHeader","header","Logo","h1","UserName","h3","Header","userModal","setUserModal","to","process","component","MdPersonAdd","logout","fadeInKeyframes","ListCard","Image","img","type","fadeIn","Footer","Icons","IconLike","MdFavoriteBorder","IconIsLiked","MdFavorite","IconComment","FaRegComment","DeleteIcon","MdDeleteForever","LikesText","TitleText","PhotoCard","src","title","isProfile","isMyProfile","isLike","onLike","onDelete","element","useRef","show","setShow","IconHeart","useEffect","observer","window","IntersectionObserver","entries","isIntersecting","disconnect","observe","current","alt","PhotoButton","UploadForm","onUpdateWall","setDescription","image","setImage","setError","setLoading","onSubmit","uploadPhoto","console","defaultValue","files","reader","FileReader","onloadend","result","readAsDataURL","handleUpload","accept","UploadPhotoButton","onFinish","modalIsOpen","setModalIsOpen","MdPhotoCamera","Container","main","List","ListOfWallPhotos","otherLoading","setOtherLoading","setPhotos","getFeedPictures","likePhoto","handleLike","Home","FormWrap","SubTitle","Actions","ErrorMessage","UserForm","subTitle","isLoading","errorFirebase","Login","userExists","login","onLogin","ListOfProfilePhotos","setIsMyProfile","deleteLoading","setDeleteLoading","profile","photoData","deletePhoto","Profile","profileName","Register","register","onRegister","NotFound","App","initializing","setInitializing","getUser","default","noThrow","from","location","pathname","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f15900b8.chunk.js","sourcesContent":["import app from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/firebase-firestore'\r\nimport 'firebase/firebase-storage'\r\nimport { generateHash } from '../utils/generateHash'\r\n\r\nconst config = {\r\n  apiKey: 'AIzaSyDsy5hGZROQYIKXgJdMENbQypMlzEqLNXw',\r\n  authDomain: 'instafake-aac4c.firebaseapp.com',\r\n  databaseURL: 'https://instafake-aac4c.firebaseio.com',\r\n  projectId: 'instafake-aac4c',\r\n  storageBucket: 'instafake-aac4c.appspot.com',\r\n  messagingSenderId: '1060192762161'\r\n}\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config)\r\n    this.auth = app.auth()\r\n    this.db = app.firestore()\r\n    this.storage = app.storage()\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Login function\r\n   * @param {string} email - The user email.\r\n   * @param {string} password - The user password.\r\n   */\r\n\r\n  login(email, password) {\r\n    return new Promise((resolve, reject) => {\r\n      this.auth\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then(() => resolve())\r\n        .catch(error => reject(error))\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Check that user exists\r\n   * @param {string} userName - The user name.\r\n   */\r\n\r\n  userExists(userName) {\r\n    return new Promise(resolve => {\r\n      this.db\r\n        .collection('users')\r\n        .doc(userName)\r\n        .get()\r\n        .then(doc => resolve(doc))\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Register function\r\n   * @param {string} email - The user email.\r\n   * @param {string} password - The user password.\r\n   * @param {string} userName - The user name.\r\n   */\r\n\r\n  register(email, password, userName) {\r\n    return new Promise((resolve, reject) => {\r\n      this.auth\r\n        .createUserWithEmailAndPassword(email, password)\r\n        .then(() => {\r\n          this.db\r\n            .collection('users')\r\n            .doc(userName)\r\n            .set({\r\n              displayName: userName,\r\n              email: email,\r\n              photos: [],\r\n              following: []\r\n            })\r\n            .then(() => {\r\n              this.auth.currentUser.updateProfile({ displayName: userName }).then(() => resolve())\r\n            })\r\n            .catch(error => error)\r\n        })\r\n        .catch(error => reject(error))\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Logout function\r\n   */\r\n\r\n  logout() {\r\n    return this.auth.signOut()\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Get user function\r\n   * @returns {string} The user.\r\n   */\r\n\r\n  getUser() {\r\n    return new Promise((resolve, reject) => {\r\n      this.auth.onAuthStateChanged(function(user) {\r\n        if (user) {\r\n          resolve(user)\r\n        } else {\r\n          reject('No user is signed in.')\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Function to upload a photo.\r\n   * @param {file} file - The image file.\r\n   * @param {string} description - The photo description.\r\n   * @param {string} user - The user email.\r\n   */\r\n\r\n  uploadPhoto(file, description, userName) {\r\n    const ref = this.storage.ref(`images/${userName}/${generateHash()}${file.name}`)\r\n    const task = ref.put(file)\r\n\r\n    return new Promise((resolve, reject) => {\r\n      task.on(\r\n        'state_changed',\r\n        snapshot => {},\r\n        error => {\r\n          reject(error.message)\r\n        },\r\n        () => {\r\n          task.snapshot.ref.getDownloadURL().then(downloadURL => {\r\n            const date = new Date()\r\n            const timestamp = date.getTime()\r\n\r\n            const record = {\r\n              name: task.snapshot.ref.name,\r\n              user: userName,\r\n              description: description,\r\n              url: downloadURL,\r\n              path: task.snapshot.ref.fullPath,\r\n              timestamp: timestamp,\r\n              likes: [],\r\n              comments: []\r\n            }\r\n\r\n            this.getData('users', userName)\r\n              .then(data => {\r\n                this.db\r\n                  .collection('users')\r\n                  .doc(userName)\r\n                  .set({ photos: [...data.photos, record] }, { merge: true })\r\n                resolve()\r\n              })\r\n              .catch(error => reject(error))\r\n          })\r\n        }\r\n      )\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Get data function\r\n   * @param {string} collection - The collection you want to search.\r\n   * @param {string} doc - the document to access.\r\n   * @returns {object} The data you have searched.\r\n   */\r\n\r\n  getData(collection, doc) {\r\n    return new Promise((resolve, reject) => {\r\n      const docRef = this.db.collection(collection).doc(doc)\r\n      docRef\r\n        .get()\r\n        .then(doc => (doc.exists ? resolve(doc.data()) : reject('No such document!')))\r\n        .catch(error => reject(error))\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Get Feed wall function\r\n   * @param {string} userName - The user name.\r\n   */\r\n\r\n  async getFeedPictures(userName) {\r\n    let pictures = []\r\n\r\n    const followers = await this.db\r\n      .collection('users')\r\n      .doc(userName)\r\n      .get()\r\n      .then(doc => {\r\n        pictures = doc.data().photos\r\n        return doc.data().following\r\n      })\r\n\r\n    for (const followUser of followers) {\r\n      const photos = await this.getData('users', followUser).then(data => {\r\n        return data.photos\r\n      })\r\n      pictures = [...pictures, ...photos]\r\n    }\r\n\r\n    pictures = pictures.sort((a, b) => a.timestamp - b.timestamp).reverse()\r\n    return pictures\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Like photo function\r\n   * @param {string} userName - The user name.\r\n   */\r\n\r\n  async likePhoto(userName, timestamp, userLike) {\r\n    let pictures = []\r\n    await this.db\r\n      .collection('users')\r\n      .doc(userName)\r\n      .get()\r\n      .then(querySnapshot => {\r\n        pictures = querySnapshot.data().photos\r\n        pictures.forEach((data, i) => {\r\n          if (data.timestamp === timestamp) {\r\n            pictures[i].likes.includes(userLike)\r\n              ? (pictures[i].likes = pictures[i].likes.filter(e => e !== userLike))\r\n              : pictures[i].likes.push(userLike)\r\n          }\r\n        })\r\n      })\r\n\r\n    await this.db\r\n      .collection('users')\r\n      .doc(userName)\r\n      .update({ photos: pictures })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Delete photo form user\r\n   * @param {string} userName - The user name.\r\n   */\r\n\r\n  async deletePhoto(userName, photoPath, fileName) {\r\n    let pictures = []\r\n    await this.db\r\n      .collection('users')\r\n      .doc(userName)\r\n      .get()\r\n      .then(querySnapshot => {\r\n        pictures = querySnapshot.data().photos\r\n        pictures = pictures.filter(e => e.path !== photoPath)\r\n      })\r\n\r\n    const ref = this.storage.ref(`images/${userName}/${fileName}`)\r\n    await ref.delete()\r\n\r\n    await this.db\r\n      .collection('users')\r\n      .doc(userName)\r\n      .update({ photos: pictures })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Follow / Unfollow user\r\n   * @param {string} userName - The user name.\r\n   * @param {string} userFollow - The user to follow/unfollow.\r\n   * @param {boolean} mode - True or false to follow or unfollow\r\n   */\r\n\r\n  async followUser(userName, userFollow, mode) {\r\n    let followers = await this.db\r\n      .collection('users')\r\n      .doc(userName)\r\n      .get()\r\n      .then(doc => doc.data().following)\r\n\r\n    if (mode) {\r\n      await followers.push(userFollow)\r\n    } else {\r\n      followers = await followers.filter(e => e !== userFollow)\r\n    }\r\n\r\n    await this.db\r\n      .collection('users')\r\n      .doc(userName)\r\n      .update({ following: followers })\r\n  }\r\n}\r\n\r\nexport default new Firebase()\r\n","// Random hash\r\n\r\nexport const generateHash = () => {\r\n  return (\r\n    Math.random()\r\n      .toString(12)\r\n      .substring(2, 7) +\r\n    Math.random()\r\n      .toString(12)\r\n      .substring(2, 7)\r\n  )\r\n}\r\n","import React, { createContext, useState } from 'react'\r\n\r\nexport const Context = createContext()\r\n\r\nconst Provider = ({ children }) => {\r\n  const [isAuth, setIsAuth] = useState(false)\r\n  const [user, setUser] = useState(false)\r\n\r\n  const value = {\r\n    isAuth,\r\n    user,\r\n    activateAuth: () => {\r\n      setIsAuth(true)\r\n    },\r\n    removeAuth: () => {\r\n      setIsAuth(false)\r\n    },\r\n    addUser: data => {\r\n      setUser(data)\r\n    }\r\n  }\r\n\r\n  return <Context.Provider value={value}>{children}</Context.Provider>\r\n}\r\n\r\nexport default {\r\n  Provider,\r\n  Consumer: Context.Consumer\r\n}\r\n","import styled, { createGlobalStyle } from 'styled-components'\r\nimport { Link } from '@reach/router'\r\n\r\nexport const ResetStyle = createGlobalStyle`\r\n  html {\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  *, *:before, *:after {\r\n    box-sizing: inherit;\r\n  }\r\n\r\n  body, h1, h2, h3, h4, h5, h6, p, ol, ul {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-weight: normal;\r\n  }\r\n\r\n  ol, ul {\r\n    list-style: none;\r\n  }\r\n\r\n  img {\r\n    max-width: 100%;\r\n    height: auto;\r\n  }\r\n`\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  :root {\r\n    --orange: #FF8F56;\r\n    --dark-orange: #D36A33;\r\n    --green: #5EC165;\r\n    --dark-green: #588258;\r\n    --wine: #C4515B;\r\n    --silver: #8EA6B4;\r\n    --light-grey: #E7EFF3;\r\n    --grey: #d2d2d2;\r\n    --dark-grey: #333;\r\n\r\n    --open-sans: 'Open Sans', sans-serif;\r\n    --pacifico: 'Pacifico';\r\n    --roboto:  'Roboto';\r\n\r\n    --bg-body: linear-gradient(55deg, rgba(208, 208, 208, 0.03) 0%, rgba(208, 208, 208, 0.03) 20%,rgba(55, 55, 55, 0.03) 20%, rgba(55, 55, 55, 0.03) 40%,rgba(81, 81, 81, 0.03) 40%, rgba(81, 81, 81, 0.03) 60%,rgba(208, 208, 208, 0.03) 60%, rgba(208, 208, 208, 0.03) 80%,rgba(191, 191, 191, 0.03) 80%, rgba(191, 191, 191, 0.03) 100%),linear-gradient(291deg, rgba(190, 190, 190, 0.02) 0%, rgba(190, 190, 190, 0.02) 14.286%,rgba(105, 105, 105, 0.02) 14.286%, rgba(105, 105, 105, 0.02) 28.572%,rgba(230, 230, 230, 0.02) 28.572%, rgba(230, 230, 230, 0.02) 42.858%,rgba(216, 216, 216, 0.02) 42.858%, rgba(216, 216, 216, 0.02) 57.144%,rgba(181, 181, 181, 0.02) 57.144%, rgba(181, 181, 181, 0.02) 71.42999999999999%,rgba(129, 129, 129, 0.02) 71.43%, rgba(129, 129, 129, 0.02) 85.71600000000001%,rgba(75, 75, 75, 0.02) 85.716%, rgba(75, 75, 75, 0.02) 100.002%),linear-gradient(32deg, rgba(212, 212, 212, 0.03) 0%, rgba(212, 212, 212, 0.03) 12.5%,rgba(223, 223, 223, 0.03) 12.5%, rgba(223, 223, 223, 0.03) 25%,rgba(11, 11, 11, 0.03) 25%, rgba(11, 11, 11, 0.03) 37.5%,rgba(86, 86, 86, 0.03) 37.5%, rgba(86, 86, 86, 0.03) 50%,rgba(106, 106, 106, 0.03) 50%, rgba(106, 106, 106, 0.03) 62.5%,rgba(220, 220, 220, 0.03) 62.5%, rgba(220, 220, 220, 0.03) 75%,rgba(91, 91, 91, 0.03) 75%, rgba(91, 91, 91, 0.03) 87.5%,rgba(216, 216, 216, 0.03) 87.5%, rgba(216, 216, 216, 0.03) 100%),linear-gradient(312deg, rgba(113, 113, 113, 0.01) 0%, rgba(113, 113, 113, 0.01) 14.286%,rgba(54, 54, 54, 0.01) 14.286%, rgba(54, 54, 54, 0.01) 28.572%,rgba(166, 166, 166, 0.01) 28.572%, rgba(166, 166, 166, 0.01) 42.858%,rgba(226, 226, 226, 0.01) 42.858%, rgba(226, 226, 226, 0.01) 57.144%,rgba(109, 109, 109, 0.01) 57.144%, rgba(109, 109, 109, 0.01) 71.42999999999999%,rgba(239, 239, 239, 0.01) 71.43%, rgba(239, 239, 239, 0.01) 85.71600000000001%,rgba(54, 54, 54, 0.01) 85.716%, rgba(54, 54, 54, 0.01) 100.002%),linear-gradient(22deg, rgba(77, 77, 77, 0.03) 0%, rgba(77, 77, 77, 0.03) 20%,rgba(235, 235, 235, 0.03) 20%, rgba(235, 235, 235, 0.03) 40%,rgba(215, 215, 215, 0.03) 40%, rgba(215, 215, 215, 0.03) 60%,rgba(181, 181, 181, 0.03) 60%, rgba(181, 181, 181, 0.03) 80%,rgba(193, 193, 193, 0.03) 80%, rgba(193, 193, 193, 0.03) 100%),linear-gradient(80deg, rgba(139, 139, 139, 0.02) 0%, rgba(139, 139, 139, 0.02) 14.286%,rgba(114, 114, 114, 0.02) 14.286%, rgba(114, 114, 114, 0.02) 28.572%,rgba(240, 240, 240, 0.02) 28.572%, rgba(240, 240, 240, 0.02) 42.858%,rgba(221, 221, 221, 0.02) 42.858%, rgba(221, 221, 221, 0.02) 57.144%,rgba(74, 74, 74, 0.02) 57.144%, rgba(74, 74, 74, 0.02) 71.42999999999999%,rgba(201, 201, 201, 0.02) 71.43%, rgba(201, 201, 201, 0.02) 85.71600000000001%,rgba(187, 187, 187, 0.02) 85.716%, rgba(187, 187, 187, 0.02) 100.002%),linear-gradient(257deg, rgba(72, 72, 72, 0.03) 0%, rgba(72, 72, 72, 0.03) 16.667%,rgba(138, 138, 138, 0.03) 16.667%, rgba(138, 138, 138, 0.03) 33.334%,rgba(54, 54, 54, 0.03) 33.334%, rgba(54, 54, 54, 0.03) 50.001000000000005%,rgba(161, 161, 161, 0.03) 50.001%, rgba(161, 161, 161, 0.03) 66.668%,rgba(17, 17, 17, 0.03) 66.668%, rgba(17, 17, 17, 0.03) 83.33500000000001%,rgba(230, 230, 230, 0.03) 83.335%, rgba(230, 230, 230, 0.03) 100.002%),linear-gradient(47deg, rgba(191, 191, 191, 0.01) 0%, rgba(191, 191, 191, 0.01) 16.667%,rgba(27, 27, 27, 0.01) 16.667%, rgba(27, 27, 27, 0.01) 33.334%,rgba(66, 66, 66, 0.01) 33.334%, rgba(66, 66, 66, 0.01) 50.001000000000005%,rgba(36, 36, 36, 0.01) 50.001%, rgba(36, 36, 36, 0.01) 66.668%,rgba(230, 230, 230, 0.01) 66.668%, rgba(230, 230, 230, 0.01) 83.33500000000001%,rgba(93, 93, 93, 0.01) 83.335%, rgba(93, 93, 93, 0.01) 100.002%),linear-gradient(90deg, #FFF,#FFF);\r\n  }\r\n  \r\n  \r\n  html {\r\n    font-size: 62.5%;\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    min-width: 360px;\r\n    height: 100%;\r\n    min-height: 100%;\r\n    font-size: 1.4rem;\r\n    line-height: normal;\r\n    font-family: var(--open-sans);\r\n    color: var(--dark-grey);\r\n    background: var(--bg-body);\r\n    background-attachment: fixed;\r\n  }\r\n\r\n  input, button, textarea {\r\n    font-family: var(--roboto);\r\n    color: var(--dark-grey);\r\n  }\r\n\r\n  #app {\r\n    height: 100%;\r\n    min-height: 100%;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .login-wrap {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 30px;\r\n  }\r\n\r\n\r\n`\r\n\r\nexport const PageWrap = styled.div`\r\n  height: 100%;\r\n  min-height: 100%;\r\n  overflow: auto;\r\n`\r\n\r\nexport const StyledLink = styled(Link)`\r\n  color: var(--dark-grey);\r\n  font-weight: bold;\r\n  transition: 0.3s all ease;\r\n  text-decoration: none;\r\n\r\n  &:hover {\r\n    color: var(--dark-orange);\r\n  }\r\n`\r\n","import { createGlobalStyle } from 'styled-components'\r\n\r\nconst generateSpaces = (positions, prop, times) => {\r\n  let results = []\r\n  for (let i = 0; i <= times; i++) {\r\n    for (const pos in positions) {\r\n      results.push(`.${prop}${positions[pos]}-${(i + 1) * 5} { ${prop}${positions[pos]}: ${(i + 1) * 5}px }`)\r\n    }\r\n  }\r\n  return results\r\n}\r\n\r\nexport const HelperClasses = createGlobalStyle`\r\n  ${generateSpaces(['', '-top', '-right', '-bottom', '-left'], 'margin', 5)}\r\n  ${generateSpaces(['', '-top', '-right', '-bottom', '-left'], 'padding', 5)}\r\n\r\n  .bold {\r\n    font-weight: 700;\r\n  }\r\n`\r\n","export const mediaQueries = {\r\n  medium: '768px',\r\n  large: '1024px',\r\n  xlarge: '1280px'\r\n}\r\n","import styled from 'styled-components'\r\nimport { mediaQueries } from '../../styles/variables'\r\n\r\nexport const ModalContent = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: white;\r\n  padding: 20px;\r\n  z-index: 10;\r\n`\r\n\r\nexport const CloseButton = styled.button`\r\n  display: inline-block;\r\n  position: absolute;\r\n  right: 20px;\r\n  top: 10px;\r\n\r\n  background: none;\r\n  border: none;\r\n  padding: 0;\r\n\r\n  font-size: 60px;\r\n  font-family: var(--open-sans);\r\n  font-weight: 300;\r\n  line-height: 0.8;\r\n  cursor: pointer;\r\n  transition: 0.2s all ease;\r\n\r\n  &:hover {\r\n    color: var(--wine);\r\n  }\r\n`\r\n\r\nexport const Form = styled.form`\r\n  max-width: 450px;\r\n\r\n  @media (min-width: ${mediaQueries.medium}) {\r\n    padding: 30px;\r\n    border: 1px dashed var(--grey);\r\n    border-radius: 5px;\r\n  }\r\n`\r\n\r\nexport const Title = styled.h2`\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  padding-bottom: 10px;\r\n`\r\n\r\nexport const FormLine = styled.div`\r\n  padding-top: 20px;\r\n`\r\n\r\nexport const Label = styled.label`\r\n  display: block;\r\n  padding-bottom: 5px;\r\n`\r\n\r\nexport const Input = styled.input`\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  appearance: none;\r\n\r\n  width: 100%;\r\n  margin-bottom: 15px;\r\n  padding: 12px 8px;\r\n  border-radius: 2px;\r\n  border: 1px solid var(--grey);\r\n\r\n  &:focus {\r\n    outline-color: var(--orange);\r\n  }\r\n`\r\n\r\nexport const Textarea = styled.textarea`\r\n  display: block;\r\n  width: 100%;\r\n  min-height: 80px;\r\n  padding: 12px 8px;\r\n  border-radius: 3px;\r\n  border: 1px solid var(--grey);\r\n`\r\n\r\nexport const Error = styled.p`\r\n  color: var(--wine);\r\n`\r\n","import React from 'react'\r\nimport { ModalContent, CloseButton } from './styles'\r\n\r\nexport const Modal = ({ children, onClose }) => {\r\n  return (\r\n    <ModalContent>\r\n      <CloseButton onClick={onClose}>x</CloseButton>\r\n      {children}\r\n    </ModalContent>\r\n  )\r\n}\r\n","import styled, { css } from 'styled-components'\r\n\r\nexport const ButtonTag = styled.button`\r\n  display: inline-flex;\r\n  align-items: center;\r\n\r\n  width: ${props => (props.fullWidth ? '100%' : null)};\r\n  padding: 0 15px;\r\n  height: 37px;\r\n\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  color: white;\r\n\r\n  border: none;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  transition: 0.1s all ease;\r\n  background-color: var(--orange);\r\n\r\n  &:hover {\r\n    background-color: var(--dark-orange);\r\n  }\r\n\r\n  & svg:not(:last-child) {\r\n    margin-right: 10px;\r\n  }\r\n\r\n  /*\r\n   * Secondary styles\r\n   */\r\n\r\n  ${props =>\r\n    props.secondary &&\r\n    css`\r\n      background-color: var(--green);\r\n      &:hover {\r\n        background-color: var(--dark-green);\r\n      }\r\n    `}\r\n\r\n  ${props =>\r\n    props.round &&\r\n    css`\r\n      border-radius: 50%;\r\n      padding: 10px;\r\n    `}\r\n\r\n  /*\r\n   * Disabled styles\r\n   */\r\n\r\n  ${props =>\r\n    props.disabled &&\r\n    css`\r\n      cursor: default;\r\n      pointer-events: none;\r\n      background-color: var(--grey);\r\n    `}\r\n\r\n\r\n`\r\n","import React from 'react'\r\nimport { ButtonTag } from './styles'\r\n\r\nexport const Button = props => {\r\n  const Icon = props.icon ? props.icon : null\r\n\r\n  return (\r\n    <ButtonTag {...props} onClick={props.onClick}>\r\n      {Icon && <Icon size={props.iconSize ? props.iconSize : '18px'} />}\r\n      {props.text}\r\n    </ButtonTag>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\n\r\nexport const useInputValue = initialValue => {\r\n  const [value, setValue] = useState(initialValue)\r\n  const onChange = e => setValue(e.target.value)\r\n\r\n  return { value, onChange }\r\n}\r\n","import styled, { keyframes, css } from 'styled-components'\r\n\r\nexport const Wrap = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 2;\r\n\r\n  ${props =>\r\n    props.fullContainer &&\r\n    css`\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n    `}\r\n\r\n  ${props =>\r\n    props.opacityBg &&\r\n    css`\r\n      background-color: rgba(255, 255, 255, 0.8);\r\n    `}\r\n\r\n    ${props =>\r\n      props.fixed &&\r\n      css`\r\n        position: fixed;\r\n      `}\r\n`\r\n\r\nconst spinKeyframes = keyframes`\r\n  from {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nexport const spin = ({ time = '1.5s' } = {}) =>\r\n  css`\r\n    animation: 2s ${spinKeyframes} infinite;\r\n    -webkit-animation: ${time} ${spinKeyframes} linear infinite;\r\n  `\r\n\r\nexport const LoaderAnimated = styled.div`\r\n  display: block;\r\n  position: relative;\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  border: 4px solid transparent;\r\n  border-top: 4px solid var(--orange);\r\n  ${spin()}\r\n\r\n  &::before,\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    border-radius: 50%;\r\n    border: 4px solid transparent;\r\n  }\r\n\r\n  &::before {\r\n    top: 5px;\r\n    left: 5px;\r\n    right: 5px;\r\n    bottom: 5px;\r\n    border-top-color: var(--orange);\r\n    ${spin({ time: '2.2s' })} /* animation: &(spin) 3.5s linear infinite; */\r\n  }\r\n\r\n  &::after {\r\n    top: 15px;\r\n    left: 15px;\r\n    right: 15px;\r\n    bottom: 15px;\r\n    border-top-color: var(--orange);\r\n    ${spin({ time: '1.7s' })} /* animation: &(spin) 1.75s linear infinite; */\r\n  }\r\n`\r\n","import React from 'react'\r\nimport { Wrap, LoaderAnimated } from './styles'\r\n\r\nexport const Loader = props => {\r\n  return (\r\n    <Wrap {...props}>\r\n      <LoaderAnimated></LoaderAnimated>\r\n    </Wrap>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { FaUserPlus, FaUserMinus } from 'react-icons/fa'\r\n\r\nexport const Results = styled.ul`\r\n  /* height: 300px; */\r\n  max-height: 300px;\r\n  overflow-x: auto;\r\n`\r\n\r\nexport const User = styled.li`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid var(--grey);\r\n  border-radius: 3px;\r\n\r\n  &:not(:last-child) {\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  h4 {\r\n    flex: 1;\r\n  }\r\n`\r\nexport const ImageProfile = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 30px;\r\n  width: 30px;\r\n  background-color: var(--light-grey);\r\n  padding: 5px;\r\n  border-radius: 50%;\r\n  margin-right: 10px;\r\n`\r\n\r\nexport const FollowButton = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  margin-left: auto;\r\n  padding: 7px 10px;\r\n\r\n  border: 1px solid var(--grey);\r\n  background-color: white;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  transition: 0.2s all ease;\r\n\r\n  &:hover {\r\n    background-color: var(--light-grey);\r\n  }\r\n`\r\n\r\nexport const FollowIcon = styled(FaUserPlus)`\r\n  color: var(--green);\r\n`\r\n\r\nexport const UnFollowIcon = styled(FaUserMinus)`\r\n  color: var(--wine);\r\n`\r\n","import React, { useState, useContext } from 'react'\r\nimport firebase from '../firebase'\r\nimport { Context } from '../../Context'\r\nimport { useInputValue } from '../../hooks/useInputValue'\r\nimport { useCollection, useDocumentData } from 'react-firebase-hooks/firestore'\r\n\r\nimport { Loader } from '../Loader'\r\nimport { Form, Title, FormLine, Label, Error, Input } from '../Modal/styles'\r\nimport { Results, User, ImageProfile, FollowButton, FollowIcon, UnFollowIcon } from './styles'\r\nimport { MdPerson } from 'react-icons/md'\r\n\r\nexport const SearchUserForm = () => {\r\n  const userSearch = useInputValue('')\r\n  const { user } = useContext(Context)\r\n  const [users, setUsers] = useState([])\r\n  const [value, loading, error] = useCollection(firebase.db.collection('users'))\r\n  const [userValue] = useDocumentData(firebase.db.collection('users').doc(user.name))\r\n\r\n  const searchUser = () => {\r\n    if (userSearch.value.length === 0) {\r\n      setUsers([])\r\n      return\r\n    }\r\n\r\n    const regex = new RegExp(`^${userSearch.value}`)\r\n    let results = value.docs.filter(e => {\r\n      return e.id.match(regex)\r\n    })\r\n    results = results.map(e => e.id).filter(e => e !== user.name)\r\n    setUsers(results)\r\n  }\r\n\r\n  const handleFollow = (e, userFollow) => {\r\n    e.preventDefault()\r\n    if (userValue.following.includes(userFollow)) {\r\n      firebase.followUser(user.name, userFollow, false)\r\n    } else {\r\n      firebase.followUser(user.name, userFollow, true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Form>\r\n      <Title>Search an user:</Title>\r\n      <p>Search by username and follow to see all your posts</p>\r\n      <FormLine>\r\n        <Label className=\"bold\">User name:</Label>\r\n        <Input value={userSearch} placeholder=\"user\" onKeyUp={searchUser} {...userSearch} />\r\n      </FormLine>\r\n      <Results>\r\n        {users.map((userName, i) => {\r\n          return (\r\n            <User key={i}>\r\n              {loading && <Loader />}\r\n              <ImageProfile>\r\n                <MdPerson size=\"18px\" />\r\n              </ImageProfile>\r\n              <h4 className=\"bold\">{userName}</h4>\r\n              <FollowButton onClick={e => handleFollow(e, userName)}>\r\n                {userValue.following.includes(userName) ? <UnFollowIcon size=\"18px\" /> : <FollowIcon size=\"18px\" />}\r\n              </FollowButton>\r\n            </User>\r\n          )\r\n        })}\r\n      </Results>\r\n      <FormLine>\r\n        <Error>{error}</Error>\r\n      </FormLine>\r\n    </Form>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { mediaQueries } from '../../styles/variables'\r\n\r\nexport const StickyHeader = styled.header`\r\n  position: sticky;\r\n  top: 0;\r\n  width: 100%;\r\n  background-color: white;\r\n  padding: 5px 20px;\r\n  box-shadow: 0 1px 2px rgba(74, 74, 74, 0.1);\r\n  z-index: 4;\r\n`\r\n\r\nexport const Logo = styled.h1`\r\n  font-size: 3rem;\r\n  font-family: var(--pacifico);\r\n  flex: 1;\r\n  padding-right: 15px;\r\n\r\n  a {\r\n    text-decoration: none;\r\n    color: var(--dark-grey);\r\n    transition: 0.2s all ease;\r\n\r\n    &:hover {\r\n      color: var(--silver);\r\n    }\r\n  }\r\n`\r\n\r\nexport const Wrap = styled.div`\r\n  width: 100%;\r\n  max-width: 1024px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  @media (min-width: ${mediaQueries.large}) {\r\n    padding: 0 20px;\r\n  }\r\n`\r\n\r\nexport const UserName = styled.h3`\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  margin-right: 15px;\r\n`\r\n","import React, { useContext, Fragment, useState } from 'react'\r\nimport firebase from '../firebase'\r\nimport { Link } from '@reach/router'\r\nimport { Context } from '../../Context'\r\nimport { MdPersonAdd } from 'react-icons/md'\r\n\r\nimport { Modal } from '../Modal'\r\nimport { Button } from '../Button'\r\nimport { SearchUserForm } from '../SearchUserForm'\r\n\r\nimport { StickyHeader, Logo, Wrap, UserName } from './styles'\r\nimport { StyledLink } from '../../styles/GlobalStyles'\r\n\r\nexport const Header = () => {\r\n  const { removeAuth, user } = useContext(Context)\r\n  const [userModal, setUserModal] = useState(false)\r\n\r\n  const signOut = () => {\r\n    firebase.logout()\r\n    removeAuth()\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setUserModal(false)\r\n  }\r\n\r\n  return (\r\n    <StickyHeader>\r\n      <Wrap>\r\n        <Logo>\r\n          <Link to={`${process.env.PUBLIC_URL}/`} component={Logo}>\r\n            Instafake\r\n          </Link>\r\n        </Logo>\r\n        <Fragment>\r\n          <UserName>\r\n            <StyledLink to={`${process.env.PUBLIC_URL}/profile/${user.name}`}>\r\n              {user.name ? user.name : user.email}\r\n            </StyledLink>\r\n          </UserName>\r\n          <Button\r\n            icon={MdPersonAdd}\r\n            iconSize=\"24px\"\r\n            secondary\r\n            className=\"margin-right-10\"\r\n            onClick={() => setUserModal(true)}\r\n          />\r\n          <Button text=\"Log out\" onClick={signOut} />\r\n        </Fragment>\r\n      </Wrap>\r\n\r\n      {userModal && (\r\n        <Modal onClose={handleClose}>\r\n          <SearchUserForm />\r\n        </Modal>\r\n      )}\r\n    </StickyHeader>\r\n  )\r\n}\r\n","import { keyframes, css } from 'styled-components'\r\n\r\nconst fadeInKeyframes = keyframes`\r\n  from {\r\n    filter: blur(5px);\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    filter: blur(0);\r\n    opacity: 1;\r\n  }\r\n`\r\n\r\nexport const fadeIn = ({ time = '1s', type = 'ease' } = {}) =>\r\n  css`\r\n    animation: ${time} ${fadeInKeyframes} ${type};\r\n  `\r\n","import styled from 'styled-components'\r\nimport { MdFavoriteBorder, MdFavorite, MdDeleteForever } from 'react-icons/md'\r\nimport { FaRegComment } from 'react-icons/fa'\r\nimport { fadeIn } from '../../styles/animation'\r\n\r\n/**\r\n * General container\r\n */\r\n\r\nexport const ListCard = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  border-radius: 5px;\r\n  box-shadow: 0 1px 2px rgba(74, 74, 74, 0.1);\r\n  min-height: 200px;\r\n`\r\n\r\n/**\r\n * header\r\n */\r\n\r\nexport const Header = styled.header`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  padding: 10px;\r\n  background-color: white;\r\n  border-top-left-radius: 5px;\r\n  border-top-right-radius: 5px;\r\n\r\n  svg {\r\n    background-color: var(--light-grey);\r\n    padding: 5px;\r\n    border-radius: 50%;\r\n    font-size: 24px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  h4 {\r\n    font-weight: 700;\r\n    font-size: 14px;\r\n    font-family: var(--roboto);\r\n  }\r\n`\r\n\r\nexport const Image = styled.img`\r\n  ${fadeIn()}\r\n  max-width: 100%;\r\n  width: 100%;\r\n  display: block;\r\n\r\n  max-height: 450px;\r\n  object-fit: cover;\r\n\r\n  &:first-child {\r\n    border-top-left-radius: 5px;\r\n    border-top-right-radius: 5px;\r\n  }\r\n`\r\n\r\nexport const Footer = styled.div`\r\n  padding: 10px 15px 20px;\r\n  background-color: white;\r\n  border-bottom-left-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n  flex: 1;\r\n`\r\n\r\n/**\r\n * Icons\r\n */\r\n\r\nexport const Icons = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-bottom: 10px;\r\n`\r\n\r\nexport const IconLike = styled(MdFavoriteBorder)`\r\n  cursor: pointer;\r\n  transition: 0.2s all ease;\r\n\r\n  &:hover {\r\n    color: var(--wine);\r\n  }\r\n`\r\n\r\nexport const IconIsLiked = styled(MdFavorite)`\r\n  cursor: pointer;\r\n  color: var(--wine);\r\n`\r\n\r\nexport const IconComment = styled(FaRegComment)`\r\n  cursor: pointer;\r\n  transition: 0.2s all ease;\r\n\r\n  &:hover {\r\n    color: var(--wine);\r\n  }\r\n`\r\n\r\nexport const DeleteIcon = styled(MdDeleteForever)`\r\n  position: absolute;\r\n  right: -7px;\r\n  top: -7px;\r\n  z-index: 1;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  color: white;\r\n  cursor: pointer;\r\n\r\n  transition: 0.2s all ease;\r\n  background-color: var(--wine);\r\n  border-radius: 5px;\r\n  border: 2px solid white;\r\n  width: 35px;\r\n  height: 35px;\r\n  padding: 4px;\r\n\r\n  &:hover {\r\n    background-color: var(--dark-grey);\r\n  }\r\n`\r\n\r\n/**\r\n * Footer\r\n */\r\n\r\nexport const LikesText = styled.p`\r\n  font-weight: 700;\r\n  font-family: var(--roboto);\r\n  padding-bottom: 5px;\r\n`\r\n\r\nexport const TitleText = styled.p`\r\n  display: block;\r\n  display: -webkit-box;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  -webkit-line-clamp: 4;\r\n  -webkit-box-orient: vertical;\r\n  font-family: var(--roboto);\r\n\r\n  & > span {\r\n    font-weight: 700;\r\n  }\r\n`\r\n","import React, { useState, useEffect, useRef, Fragment } from 'react'\r\nimport {\r\n  ListCard,\r\n  Image,\r\n  Footer,\r\n  LikesText,\r\n  TitleText,\r\n  Icons,\r\n  IconLike,\r\n  IconIsLiked,\r\n  IconComment,\r\n  DeleteIcon,\r\n  Header\r\n} from './styles'\r\nimport { StyledLink } from '../../styles/GlobalStyles'\r\nimport { MdPerson } from 'react-icons/md'\r\n\r\nexport const PhotoCard = ({ userName, src, likes = 0, title, isProfile, isMyProfile, isLike, onLike, onDelete }) => {\r\n  const element = useRef(null)\r\n  const [show, setShow] = useState(false)\r\n  const IconHeart = isLike ? IconIsLiked : IconLike\r\n\r\n  useEffect(() => {\r\n    const observer = new window.IntersectionObserver(entries => {\r\n      const { isIntersecting } = entries[0]\r\n      if (isIntersecting) {\r\n        setShow(true)\r\n        observer.disconnect()\r\n      }\r\n    })\r\n    observer.observe(element.current)\r\n  }, [element])\r\n\r\n  return (\r\n    <ListCard ref={element}>\r\n      {show && (\r\n        <Fragment>\r\n          {!isProfile && (\r\n            <Header>\r\n              <MdPerson />\r\n              <h4>\r\n                <StyledLink to={`${process.env.PUBLIC_URL}/profile/${userName}`}>{userName}</StyledLink>\r\n              </h4>\r\n            </Header>\r\n          )}\r\n\r\n          <Image src={src} alt={title} />\r\n          {isMyProfile && <DeleteIcon size=\"10px\" onClick={onDelete} />}\r\n          <Footer>\r\n            {!isProfile && (\r\n              <Icons>\r\n                <IconHeart size=\"24px\" onClick={onLike} />\r\n                <IconComment size=\"22px\" />\r\n              </Icons>\r\n            )}\r\n            <LikesText>{`${likes} like${likes > 1 || likes === 0 ? `s` : ``}`}</LikesText>\r\n            <TitleText>\r\n              {userName && <span>{userName}</span>} {title}\r\n            </TitleText>\r\n          </Footer>\r\n        </Fragment>\r\n      )}\r\n    </ListCard>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Button } from '../Button'\r\n\r\nexport const PhotoButton = styled(Button)`\r\n  position: fixed;\r\n  bottom: 15px;\r\n  right: 30px;\r\n  z-index: 3;\r\n  height: auto;\r\n`\r\n","import React, { useState, useContext } from 'react'\r\nimport { Context } from '../../Context'\r\nimport firebase from '../firebase'\r\nimport { Button } from '../Button'\r\nimport { Loader } from '../Loader'\r\nimport { Form, Title, FormLine, Label, Textarea, Error } from '../Modal/styles'\r\n\r\nexport const UploadForm = ({ onUpdateWall }) => {\r\n  const { user } = useContext(Context)\r\n  const [description, setDescription] = useState('')\r\n  const [image, setImage] = useState(false)\r\n  const [error, setError] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  /**\r\n   * On change in upload input\r\n   */\r\n\r\n  const handleUpload = e => {\r\n    const file = e.target.files[0]\r\n\r\n    if (file.type === 'image/png' || file.type === 'image/jpeg' || file.type === 'image/jpg') {\r\n      const reader = new FileReader()\r\n      reader.onloadend = e => setImage({ src: reader.result, file })\r\n      reader.readAsDataURL(file)\r\n      setError(false)\r\n    } else {\r\n      setError('Invalid file format')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * On submit on button click\r\n   */\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    firebase\r\n      .uploadPhoto(image.file, description, user.name)\r\n      .then(() => {\r\n        onUpdateWall()\r\n      })\r\n      .catch(error => console.error(error))\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Title>Upload your photo</Title>\r\n      <p>Choose your photo and upload it to instafake to share it with your friends</p>\r\n\r\n      <FormLine>\r\n        <Label>Write a description</Label>\r\n        <Textarea defaultValue={description} onChange={e => setDescription(e.target.value)}></Textarea>\r\n      </FormLine>\r\n\r\n      <FormLine>\r\n        <Label>Your image:</Label>\r\n        {image.src && <img src={image.src} alt={description} />}\r\n        <input type=\"file\" onChange={e => handleUpload(e)} accept=\"image/gif, image/jpeg, image/png\" />\r\n\r\n        {error && (\r\n          <FormLine>\r\n            <Error>{error}</Error>\r\n          </FormLine>\r\n        )}\r\n      </FormLine>\r\n\r\n      <FormLine>\r\n        <Button text=\"Upload image\" secondary disabled={description && image ? null : true} />\r\n      </FormLine>\r\n\r\n      {loading && <Loader fullContainer opacityBg fixed />}\r\n    </Form>\r\n  )\r\n}\r\n","import React, { Fragment, useState } from 'react'\r\nimport { PhotoButton } from './styles'\r\nimport { MdPhotoCamera } from 'react-icons/md'\r\nimport { UploadForm } from '../UploadForm'\r\nimport { Modal } from '../Modal'\r\n\r\nexport const UploadPhotoButton = ({ onFinish }) => {\r\n  const [modalIsOpen, setModalIsOpen] = useState(false)\r\n\r\n  const hanldeClose = () => {\r\n    setModalIsOpen(false)\r\n    onFinish()\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <PhotoButton secondary round icon={MdPhotoCamera} iconSize=\"30px\" onClick={() => setModalIsOpen(true)} />\r\n      {modalIsOpen && (\r\n        <Modal>\r\n          <UploadForm onUpdateWall={hanldeClose} />\r\n        </Modal>\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const Container = styled.main`\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nexport const List = styled.ul`\r\n  max-width: 640px;\r\n  width: 100%;\r\n  padding: 20px;\r\n\r\n  & > li:not(:last-child) {\r\n    margin-bottom: 30px;\r\n  }\r\n`\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport firebase from '../firebase'\r\nimport { Context } from '../../Context'\r\n\r\nimport { PhotoCard } from '../PhotoCard'\r\nimport { UploadPhotoButton } from '../UploadPhotoButton'\r\nimport { Container, List } from './styles'\r\nimport { Loader } from '../Loader'\r\n\r\nexport const ListOfWallPhotos = () => {\r\n  const { user } = useContext(Context)\r\n  const [loading, setLoading] = useState(false)\r\n  const [otherLoading, setOtherLoading] = useState(false)\r\n  const [photos, setPhotos] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (!user) return\r\n    setLoading(true)\r\n    firebase.getFeedPictures(user.name).then(data => {\r\n      setPhotos(data)\r\n      setLoading(false)\r\n    })\r\n  }, [user])\r\n\r\n  const handleLike = data => {\r\n    setOtherLoading(true)\r\n    firebase.likePhoto(data.user, data.timestamp, user.name).then(() => {\r\n      firebase.getFeedPictures(user.name).then(data => {\r\n        setPhotos(data)\r\n        setOtherLoading(false)\r\n      })\r\n    })\r\n  }\r\n\r\n  const getPhotos = () => {\r\n    setOtherLoading(true)\r\n    firebase.getFeedPictures(user.name).then(data => {\r\n      setPhotos(data)\r\n      setOtherLoading(false)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <UploadPhotoButton onFinish={getPhotos} />\r\n      <List>\r\n        {loading && <Loader fullContainer fixed />}\r\n        {otherLoading && <Loader fullContainer fixed opacityBg />}\r\n        {photos &&\r\n          photos.map((data, i) => (\r\n            <PhotoCard\r\n              userName={data.user}\r\n              src={data.url}\r\n              title={data.description}\r\n              key={i}\r\n              timestamp={data.timestamp}\r\n              likes={data.likes.length}\r\n              isLike={data.likes.includes(user.name) ? true : false}\r\n              onLike={() => handleLike(data)}\r\n            />\r\n          ))}\r\n      </List>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Header } from '../components/Header'\r\nimport { ListOfWallPhotos } from '../components/ListOfWallPhotos'\r\n\r\nexport const Home = () => {\r\n  return (\r\n    <Fragment>\r\n      <Header />\r\n      <ListOfWallPhotos />\r\n    </Fragment>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const FormWrap = styled.form`\r\n  position: relative;\r\n  display: block;\r\n  width: 100%;\r\n  max-width: 420px;\r\n  position: relative;\r\n  padding: 30px;\r\n  background-color: white;\r\n  border-radius: 5px;\r\n`\r\n\r\nexport const Logo = styled.h1`\r\n  font-size: 3.8rem;\r\n  font-family: var(--pacifico);\r\n  color: var(--dark-grey);\r\n  line-height: 1;\r\n  text-align: center;\r\n  padding-bottom: 30px;\r\n  margin-bottom: 30px;\r\n  border-bottom: 1px dashed var(--grey);\r\n`\r\n\r\nexport const Title = styled.h2`\r\n  font-size: 20px;\r\n  font-family: var(--roboto);\r\n  font-weight: 900;\r\n  margin-bottom: 10px;\r\n`\r\n\r\nexport const SubTitle = styled.p`\r\n  font-size: 14px;\r\n  display: block;\r\n  padding-bottom: 20px;\r\n`\r\n\r\nexport const Input = styled.input`\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  appearance: none;\r\n\r\n  width: 100%;\r\n  margin-bottom: 15px;\r\n  padding: 12px 8px;\r\n  border-radius: 2px;\r\n  border: 1px solid var(--grey);\r\n\r\n  &:focus {\r\n    outline-color: var(--orange);\r\n  }\r\n`\r\n\r\nexport const Actions = styled.div`\r\n  padding-top: 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nexport const ErrorMessage = styled.p`\r\n  padding-top: 15px;\r\n  color: var(--wine);\r\n  text-align: center;\r\n`\r\n","import React, { useState, Fragment } from 'react'\r\nimport { useInputValue } from '../../hooks/useInputValue'\r\nimport { Button } from '../Button'\r\nimport { Loader } from '../Loader'\r\nimport { FormWrap, Logo, Input, Title, SubTitle, Actions, ErrorMessage } from './styles'\r\nimport { StyledLink } from '../../styles/GlobalStyles'\r\n\r\nexport const UserForm = ({ title, subTitle, onSubmit, isLoading, errorFirebase }) => {\r\n  const userName = useInputValue('')\r\n  const email = useInputValue('')\r\n  const password = useInputValue('')\r\n  const [error, setError] = useState()\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n    if (!userName.value.length > 0) {\r\n      setError('complete all the fields')\r\n    } else {\r\n      setError('')\r\n      onSubmit({\r\n        email: email.value,\r\n        password: password.value,\r\n        userName: userName.value\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FormWrap onSubmit={handleSubmit}>\r\n      <Logo>Instafake</Logo>\r\n      <Title>{title}</Title>\r\n      <SubTitle>{subTitle}</SubTitle>\r\n      <Input type=\"text\" placeholder=\"User\" {...userName} />\r\n\r\n      {title === 'Login' ? (\r\n        <Fragment>\r\n          <Input type=\"password\" placeholder=\"Password\" {...password} />\r\n\r\n          <Actions>\r\n            <StyledLink to={`${process.env.PUBLIC_URL}/register`}>Register</StyledLink>\r\n            <Button text=\"Sign up\" />\r\n          </Actions>\r\n        </Fragment>\r\n      ) : (\r\n        <Fragment>\r\n          <Input type=\"text\" placeholder=\"Email\" {...email} />\r\n          <Input type=\"password\" placeholder=\"Password\" {...password} />\r\n\r\n          <Actions>\r\n            <StyledLink to={`${process.env.PUBLIC_URL}/login`}>Sign up</StyledLink>\r\n            <Button secondary text=\"Register and sign up\" />\r\n          </Actions>\r\n        </Fragment>\r\n      )}\r\n\r\n      {isLoading && <Loader fullContainer opacityBg />}\r\n\r\n      {error && <ErrorMessage>{error}</ErrorMessage>}\r\n      {errorFirebase && <ErrorMessage>{errorFirebase}</ErrorMessage>}\r\n    </FormWrap>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { UserForm } from '../components/UserForm'\r\nimport { Context } from '../Context'\r\nimport firebase from '../components/firebase'\r\n\r\nexport const Login = () => {\r\n  const { activateAuth } = useContext(Context)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  const onLogin = data => {\r\n    setLoading(true)\r\n    firebase.userExists(data.userName).then(doc => {\r\n      if (doc.exists) {\r\n        firebase\r\n          .login(doc.data().email, data.password)\r\n          .then(() => {\r\n            setLoading(false)\r\n            activateAuth()\r\n          })\r\n          .catch(error => {\r\n            setLoading(false)\r\n            setError(error.message)\r\n          })\r\n      } else {\r\n        setLoading(false)\r\n        setError('The user not exists')\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <UserForm\r\n      isLoading={loading}\r\n      title=\"Login\"\r\n      subTitle=\"Enter your email & Password and try our fully featured instafake image platform.\"\r\n      onSubmit={data => onLogin(data)}\r\n      errorFirebase={error}\r\n    />\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { mediaQueries } from '../../styles/variables'\r\n\r\nexport const Container = styled.main`\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nexport const List = styled.ul`\r\n  max-width: 1024px;\r\n  width: 100%;\r\n  padding: 20px;\r\n\r\n  & > li:not(:last-child) {\r\n    margin-bottom: 30px;\r\n\r\n    @media (min-width: ${mediaQueries.medium}) {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  @media (min-width: ${mediaQueries.medium}) {\r\n    display: grid;\r\n    grid-gap: 20px;\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n\r\n  @media (min-width: ${mediaQueries.large}) {\r\n    grid-template-columns: repeat(4, 1fr);\r\n  }\r\n\r\n  img {\r\n    @media (min-width: ${mediaQueries.medium}) {\r\n      height: 200px;\r\n    }\r\n  }\r\n`\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport firebase from '../firebase'\r\nimport { useDocumentData } from 'react-firebase-hooks/firestore'\r\n\r\nimport { PhotoCard } from '../PhotoCard'\r\nimport { UploadPhotoButton } from '../UploadPhotoButton'\r\nimport { Container, List } from './styles'\r\nimport { Loader } from '../Loader'\r\nimport { Context } from '../../Context'\r\n\r\nexport const ListOfProfilePhotos = props => {\r\n  const { user } = useContext(Context)\r\n  const [isMyProfile, setIsMyProfile] = useState(false)\r\n  const [deleteLoading, setDeleteLoading] = useState(false)\r\n  const [value, loading] = useDocumentData(firebase.db.collection('users').doc(props.profile))\r\n\r\n  useEffect(() => {\r\n    if (user.name === props.profile) setIsMyProfile(true)\r\n  }, [user.name, props.profile])\r\n\r\n  const onDelete = photoData => {\r\n    setDeleteLoading(true)\r\n    firebase.deletePhoto(user.name, photoData.path, photoData.name).then(() => setDeleteLoading(false))\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <UploadPhotoButton />\r\n      <List>\r\n        {loading && <Loader fullContainer fixed />}\r\n        {deleteLoading && <Loader fullContainer fixed opacityBg />}\r\n        {value &&\r\n          value.photos\r\n            .reverse()\r\n            .map((data, i) => (\r\n              <PhotoCard\r\n                src={data.url}\r\n                title={data.description}\r\n                key={i}\r\n                isProfile\r\n                isMyProfile={isMyProfile}\r\n                onDelete={() => onDelete(data)}\r\n              />\r\n            ))}\r\n      </List>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Header } from '../components/Header'\r\nimport { ListOfProfilePhotos } from '../components/ListOfProfilePhotos'\r\n\r\nexport const Profile = props => {\r\n  return (\r\n    <Fragment>\r\n      <Header />\r\n      <ListOfProfilePhotos profile={props.profileName} />\r\n    </Fragment>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { UserForm } from '../components/UserForm'\r\nimport { Context } from '../Context'\r\nimport firebase from '../components/firebase'\r\n\r\nexport const Register = () => {\r\n  const { activateAuth } = useContext(Context)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  const onRegister = data => {\r\n    setLoading(true)\r\n\r\n    firebase.userExists(data.userName).then(doc => {\r\n      if (doc.exists) {\r\n        setError('the user already exists')\r\n        setLoading(false)\r\n      } else {\r\n        firebase\r\n          .register(data.email, data.password, data.userName)\r\n          .then(() => {\r\n            setLoading(false)\r\n            activateAuth()\r\n          })\r\n          .catch(error => {\r\n            setLoading(false)\r\n            setError(error.message)\r\n          })\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <UserForm\r\n      isLoading={loading}\r\n      title=\"Register\"\r\n      subTitle=\"Enter your email & Password, register now and enjoy fully instafake image platform\"\r\n      onSubmit={data => onRegister(data)}\r\n      errorFirebase={error}\r\n    />\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const NotFound = () => <h1>Page not found</h1>\r\n","import React, { Fragment, useEffect, useContext, useState } from 'react'\r\nimport firebase from './components/firebase'\r\nimport { Context } from './Context'\r\nimport { Router, Redirect, Location } from '@reach/router'\r\n\r\nimport { GlobalStyle, ResetStyle, PageWrap } from './styles/GlobalStyles'\r\nimport { HelperClasses } from './styles/HelperClasses'\r\nimport { Home } from './pages/Home'\r\nimport { Login } from './pages/Login'\r\nimport { Profile } from './pages/Profile'\r\nimport { Register } from './pages/Register'\r\nimport { NotFound } from './pages/NotFound'\r\nimport { Loader } from './components/Loader'\r\n\r\nfunction App() {\r\n  const { activateAuth, isAuth, user, addUser } = useContext(Context)\r\n  const [initializing, setInitializing] = useState(true)\r\n\r\n  useEffect(() => {\r\n    firebase\r\n      .getUser()\r\n      .then(data => {\r\n        if (data) {\r\n          if (!user || data.email !== user.email) {\r\n            addUser({ email: data.email, name: data.displayName })\r\n          }\r\n          activateAuth()\r\n          setInitializing(false)\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setInitializing(false)\r\n      })\r\n  }, [activateAuth, isAuth, user, addUser])\r\n\r\n  return (\r\n    <PageWrap>\r\n      <ResetStyle />\r\n      <GlobalStyle />\r\n      <HelperClasses />\r\n\r\n      {initializing ? (\r\n        <Loader />\r\n      ) : isAuth ? (\r\n        <Router>\r\n          <NotFound default />\r\n          <Home path={`${process.env.PUBLIC_URL}/`} />\r\n          <Profile path={`${process.env.PUBLIC_URL}/profile/:profileName`} />\r\n          <Redirect noThrow from={`${process.env.PUBLIC_URL}/login`} to={`${process.env.PUBLIC_URL}/`} />\r\n          <Redirect noThrow from={`${process.env.PUBLIC_URL}/register`} to={`${process.env.PUBLIC_URL}/`} />\r\n        </Router>\r\n      ) : (\r\n        <Location>\r\n          {({ location }) => (\r\n            <Fragment>\r\n              <Router className=\"login-wrap\">\r\n                <Login path={`${process.env.PUBLIC_URL}/login`} />\r\n                <Register path={`${process.env.PUBLIC_URL}/register`} />\r\n\r\n                {location.pathname !== `${process.env.PUBLIC_URL}/register` && (\r\n                  <Redirect noThrow from={`${process.env.PUBLIC_URL}/*`} to={`${process.env.PUBLIC_URL}/login`} />\r\n                )}\r\n              </Router>\r\n            </Fragment>\r\n          )}\r\n        </Location>\r\n      )}\r\n    </PageWrap>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport Context from './Context'\r\n\r\nReactDOM.render(\r\n  <Context.Provider>\r\n    <App />\r\n  </Context.Provider>,\r\n  document.getElementById('app')\r\n)\r\n"],"sourceRoot":""}